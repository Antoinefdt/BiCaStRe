<!DOCTYPE html>
<html>
    <head>
        <title>BiCaStRe - formulaire connexion</title>
        <link rel="icon" type="image/png" href="logo.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="connexion">
            <h1> Bilan Carbone Stage de Recherche</h1>

            <hr><hr>

            <div class="container">
                <div class="logo">
                    <img src="logo.png" alt="" height="50">
                </div>
                <div class="onglets">
                    <ul>
                        <li><a href="A_propos.html">A propos</a></li>
                        <li><a href="Simulation.html">Simulation</a></li>
                        <li><a href="Methodologie.html">Méthodologie</a></li>
                        <li><a href="Rapports.html">Rapports</a></li>
                    </ul>
                </div>
            </div>

            <hr><hr>

            <h2>Connexion</h2><br><br>
            <p>Ce questionnaire vise à établir le bilan carbone de votre stage de recherche de M1. Il tente d'estimer le montant des émissions de Gaz à Effet de Serre (GES) engendrées par la réalisation de votre stage, quantifié en kgCO2e (masse de dioxyde de carbone équivalent). </p><br><br>
            <p>L'ensemble du questionnaire est constitué de trois parties, lesquelles sont précédées de questions générales. Seront notamment évaluées : <br>
            - les émissions dues aux transports <br>
            - les émissions dues à votre recherche <br>
            - les émissions indirectes.</p><br><br>
            <p> <img src="duree.png" alt="" height="30" style="vertical-align: middle; margin-right: 5px;"> La durée totale nécessaire à la réponse au questionnaire ainsi qu'à son envoi est estimée à environ 15 minutes.</p><br><br>
            <p> <img src="Attention.png" alt="" height="30" style="vertical-align: middle; margin-right: 10px;"> Merci de répondre entièrement au questionnaire lorsque vous commencez à le remplir. Le présent site web n'enregistrant aucune donnée, vous perdriez l'ensemble des premières réponses saisies si vous arrêtiez de répondre avant la fin du questionnaire.</p><br><br>
            <p>Avant de répondre, et afin de connaître le bilan carbone associé à votre stage, merci de renseigner votre adresse courriel institutionnelle ainsi que le code correspondant à votre groupe de stage.</p><br><br>
            <form id="Coord" onsubmit="return false;">
                <label for="email"> Adresse institutionnelle :</label></br>
                <input size="30" type="email" id="email" name="email" placeholder="prenom.nom@ens-paris-saclay.fr" required></br></br>
        
                <label for="code_grp"> Code groupe  :</label></br>
                <input maxlength="6" size="6" type="text" id="code_grp" name="code_grp" placeholder="DER_2X" required></br></br>
                
                <button onclick=Suivant0()>Accéder au questionnaire</button>
                <p></p><br><br>
            </form>

            <hr>

            <div class="footer">
                <p>&copy; copyright Antoine FEYDIT - 2023 </p><br>
                <h6>Tous les droits sont réservés. Aucune partie de ce site web, de son code source, de sa charte graphique ou de son nom ne peut être reproduite, distribuée ou utilisée sous quelque forme que ce soit, sans une autorisation écrite préalable de l'auteur. <br>
                    Cela inclut, mais sans s'y limiter, toute forme de plagiat, de copie, d'adaptation ou de réutilisation à des fins commerciales ou non commerciales.</h6>
            </div>
        </div>

        <script>
            

            function Suivant0() {
                // Validation des réponses de la partie Coord du formulaire
                let Myemail = document.getElementById('email').value;

                if (!Myemail) {
                    alert("Veuillez renseigner votre adresse email institutionnelle.");
                    return;
                } 
                else if (!Myemail.includes('@ens-paris-saclay.fr')) {
                    alert("Veuillez entrer une adresse email valide de l'ENS Paris-Saclay.");
                    return; 
                }

                let Mycode_grp = document.getElementById('code_grp').value;
                // Liste des codes valides
                const codesValides = ['PHY_24', 'MTH_24', 'INF_24', 'DGC_24', 'EEA_24', 'DGM_24', 'SHS_24', 'ANG_24', 'BIO_24', 'CHI_24', 'DSG_24'];

                if (!codesValides.includes(Mycode_grp)) {
                    alert("Veuillez entrer un code groupe valide.");
                    return;
                }

                // Récupérer les réponses de la partie Coord
                const reponsesCoord = new FormData(document.getElementById('Coord'));
                
                // Stocker les réponses dans une session ou un cookie
                sessionStorage.setItem('reponsesCoord', JSON.stringify(Object.fromEntries(reponsesCoord.entries())));

                // Rediriger vers la page de la partie 0
                window.location.href = "formulaire_p0.html";
            }
        </script>
    </body>
</html>